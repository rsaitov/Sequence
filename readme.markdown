# Задача

Требуется написать библиотеку-генератор последовательностей.

Под последовательностью понимается генерирование следующего номера согласно некому правилу. Например: последовательность простых чисел: 1,2,3,4,5... Здесь последовательность простых чисел образуется прибавлением единицы к последнему выданному числу.

Последовательность также может генерироваться по некоторому шаблону: Например, [ПРЕФИКС][ГОД][какие-то цифры0..9]. По такому правилу например могут быть созданы такие значения ABC20170001, ABC20170002, ABC20170003,...

Последовательность должна уметь хранить свое состояние в БД. Также необходимо, чтобы последовательность могла использоваться в многопользовательской среде. Чтобы не получилось так чтобы 2 пользователям библиотеки достался одинаковый номерок... Для этого особенно продумайте этот момент.

Применение готовой библиотеки, например, в механизме электронной очереди, где есть несколько компьютеров, на каждом из которых, человек пытается получить себе очередной номерок.

Использование библиотеки следующим образом. Например, для сохраненной некой последовательности всегда можно будет вызвать такой код:

Sequence s = new Sequence();
if (s.Load("название последовательности")) // инициализация некоторого
генератора последовательности
{
    var str = s.Current(); // получить текущий номер последовательности
    var next = s.NextValue(); // получить следующий номер последовательности
}

В многопоточной, многопользовательской среде он должен всегда отрабавываться корректно.

Итоговым результатом должен быть многопоточный тест (где, например, 10 параллельных потоков, где каждый поток пытается получить очередной номерок). Все потоки должны получить номерки правильно и БД при этом не встала из-за дэдлоков.
